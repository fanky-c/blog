<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <!--  禁止百度引擎抓取 -->
    <meta name="Baiduspider" content="noarchive">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="js、nodejs、css、nginx、vue、react">
    <meta name="keyword" content="网易">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        Dart语法 - fanky_c的博客 | fanky_c&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i>  </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>fanky_c</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#相关概念"><span class="toc-text">相关概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#变量（variables）"><span class="toc-text">变量（variables）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#变量赋值"><span class="toc-text">变量赋值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#默认值"><span class="toc-text">默认值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#可选的类型"><span class="toc-text">可选的类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#final-and-const"><span class="toc-text">final and const</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内置的类型-Built-in-types"><span class="toc-text">内置的类型(Built-in types)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#类型"><span class="toc-text">类型</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#number"><span class="toc-text">number</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#string"><span class="toc-text">string</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#boolean"><span class="toc-text">boolean</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#list-也被称之为-array"><span class="toc-text">list (也被称之为 array)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#map"><span class="toc-text">map</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#rune-用于在字符串中表示-Unicode-字符"><span class="toc-text">rune (用于在字符串中表示 Unicode 字符)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#symbol"><span class="toc-text">symbol</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Function"><span class="toc-text">Function</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#介绍"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#可选参数、默认参数、命名参数"><span class="toc-text">可选参数、默认参数、命名参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#main-入口函数"><span class="toc-text">main() 入口函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#静态作用域（scope）"><span class="toc-text">静态作用域（scope）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自执行方法、箭头函数"><span class="toc-text">自执行方法、箭头函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#闭包（closures）"><span class="toc-text">闭包（closures）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#返回值"><span class="toc-text">返回值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#操作符"><span class="toc-text">操作符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#算术操作符"><span class="toc-text">算术操作符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#级联操作符（-）"><span class="toc-text">级联操作符（..）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#异常（Exceptions）"><span class="toc-text">异常（Exceptions）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#异常类型"><span class="toc-text">异常类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#异常调用"><span class="toc-text">异常调用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Class"><span class="toc-text">Class</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#介绍-1"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#基本语法"><span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#继承"><span class="toc-text">继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#特点"><span class="toc-text">特点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#来替代"><span class="toc-text">?. 来替代 .</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#级联操作"><span class="toc-text">级联操作..</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#is-类型判断"><span class="toc-text">is 类型判断</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#as-类型转换"><span class="toc-text">as 类型转换</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#抽象类、接口"><span class="toc-text">抽象类、接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#定义"><span class="toc-text">定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#使用"><span class="toc-text">使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#extends和implements区别"><span class="toc-text">extends和implements区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#代码实现"><span class="toc-text">代码实现</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mixins"><span class="toc-text">mixins</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#介绍-2"><span class="toc-text">介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#用途"><span class="toc-text">用途</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#使用条件"><span class="toc-text">使用条件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#使用-1"><span class="toc-text">使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型"><span class="toc-text">泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#泛型作用"><span class="toc-text">泛型作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#泛型具体使用"><span class="toc-text">泛型具体使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#方法"><span class="toc-text">方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#类"><span class="toc-text">类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#接口"><span class="toc-text">接口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#库"><span class="toc-text">库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#异步流程"><span class="toc-text">异步流程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#介绍-3"><span class="toc-text">介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#使用-2"><span class="toc-text">使用</span></a></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i>  </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        Dart语法
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2019-11-09 19:08:29</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#Dart" title="Dart">Dart</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h3 id="相关概念"><a href="#相关概念" class="headerlink" title="相关概念"></a>相关概念</h3><ol>
<li>所有能够使用变量引用的都是对象， 每个对象都是一个类的实例。在 Dart 中 甚至连数字、方法和 null 都是对象。所有的对象都继承于 Object 类</li>
<li>使用静态类型( String, int,  bool, num) 可以更清晰的表明你的意图，并且可以让静态分析工具来分析你的代码， 但这并不是强制性的。（在调试代码的时候你可能注意到 没有指定类型的变量的类型为 dynamic。）</li>
<li>Dart 在运行之前会先解析你的代码。你可以通过使用 类型或者编译时常量来帮助 Dart 去捕获异常以及 让代码运行的更高效</li>
<li>Dart 支持顶级方法 (例如 main())，同时还支持在类中定义函数。 （静态函数和实例函数）。 你还可以在方法中定义方法 （嵌套方法或者局部方法）。</li>
<li>同样，Dart 还支持顶级变量，以及 在类中定义变量（静态变量和实例变量）。 实例变量有时候被称之为域（Fields）或者属性（Properties）。</li>
<li>和 Java 不同的是，Dart 没有 public、 protected、 和 private 关键字。如果一个标识符以 (_) 开头，则该标识符 在库内是私有的</li>
</ol>
<h3 id="变量（variables）"><a href="#变量（variables）" class="headerlink" title="变量（variables）"></a>变量（variables）</h3><h4 id="变量赋值"><a href="#变量赋值" class="headerlink" title="变量赋值"></a>变量赋值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var name = &apos;chao&apos;;  //上面名字为 name 的变量引用了 一个内容为 “chao” 的 String 对象</span><br></pre></td></tr></table></figure>
<h4 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//没有初始化的变量自动获取一个默认值为 null。</span><br><span class="line">//类型为数字的变量如何没有初始化其值也是 null，不要忘记了数字类型也是对象。</span><br><span class="line">int age;</span><br></pre></td></tr></table></figure>
<h4 id="可选的类型"><a href="#可选的类型" class="headerlink" title="可选的类型"></a>可选的类型</h4><p>在声明变量的时候，你可以选择加上具体 类型：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String name = &apos;chao&apos;;</span><br></pre></td></tr></table></figure></p>
<h4 id="final-and-const"><a href="#final-and-const" class="headerlink" title="final and const"></a>final and const</h4><p>如果你以后不打算修改一个变量，使用 final 或者 const。 一个 final 变量只能赋值一次；一个 const 变量是编译时常量。 （const 变量同时也是 final 变量。） 顶级的 final 变量或者类中的 final 变量在 第一次使用的时候初始化。</p>
<ol>
<li><p>const 只能被设一次值，在声明处赋值，且值必须为编译时常量；用于修饰常量。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bar = <span class="number">1000000</span>;       <span class="comment">// 定义常量值</span></span><br><span class="line"><span class="comment">// bar =13;   // 出现异常，const修饰的变量不能调用setter方法，即：不能设值，只能在声明处设值</span></span><br><span class="line"><span class="keyword">const</span> atm = <span class="number">1.01325</span> * bar; <span class="comment">// 值的表达式中的变量必须是编译时常量（bar）;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="number">12</span>;</span><br><span class="line"><span class="comment">//  atm = 1 * c;  //出错，因为c不是一个编译时常量，即：非const修饰的变量（只有const修饰的变量才是编译时常量）</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>final：只能被设一次值，在声明处赋值，值和普通变量的设值一样，可以是对象、字符串、数字等，用于修饰值的表达式不变的变量；</p>
<ol>
<li>对象成员值能被修改，对于能够添加成员的类（如List、Map）则可以添加或删除成员。(类似js中const)</li>
<li>变量本身实例不能被修改。(类似js中const)</li>
</ol>
</li>
</ol>
<blockquote>
<p>注意： 实例变量可以为 final 但是不能是 const 。<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//const就不能用在表达实例对象上</span></span><br><span class="line"><span class="keyword">final</span> wordPair = <span class="keyword">new</span> WordPair.random();</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="内置的类型-Built-in-types"><a href="#内置的类型-Built-in-types" class="headerlink" title="内置的类型(Built-in types)"></a>内置的类型(Built-in types)</h3><h4 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h4><h5 id="number"><a href="#number" class="headerlink" title="number"></a>number</h5><ol>
<li>分为：int、double</li>
<li>strings和numbers转换<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// String -&gt; int</span></span><br><span class="line"><span class="keyword">var</span> one = <span class="built_in">int</span>.parse(<span class="string">'1'</span>);</span><br><span class="line"><span class="keyword">assert</span>(one == <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// String -&gt; double</span></span><br><span class="line"><span class="keyword">var</span> onePointOne = <span class="built_in">double</span>.parse(<span class="string">'1.1'</span>);</span><br><span class="line"><span class="keyword">assert</span>(onePointOne == <span class="number">1.1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// int -&gt; String</span></span><br><span class="line"><span class="built_in">String</span> oneAsString = <span class="number">1.</span>toString();</span><br><span class="line"><span class="keyword">assert</span>(oneAsString == <span class="string">'1'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// double -&gt; String</span></span><br><span class="line"><span class="built_in">String</span> piAsString = <span class="number">3.14159</span>.toStringAsFixed(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">assert</span>(piAsString == <span class="string">'3.14'</span>);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="string"><a href="#string" class="headerlink" title="string"></a>string</h5><ol>
<li><p>可以在字符串中使用表达式，用法是这样的： ${expression}。如果表达式是一个比赛服，可以省略 {}。 如果表达式的结果为一个对象，则 Dart 会调用对象的 toString() 函数来获取一个字符串。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">'string interpolation'</span>;</span><br><span class="line"><span class="keyword">assert</span>(<span class="string">'Dart has <span class="subst">$s</span>, which is very handy.'</span> ==</span><br><span class="line">       <span class="string">'Dart has string interpolation, '</span> +</span><br><span class="line">       <span class="string">'which is very handy.'</span>);</span><br><span class="line"><span class="keyword">assert</span>(<span class="string">'That deserves all caps. '</span> +</span><br><span class="line">       <span class="string">'<span class="subst">$&#123;s.toUpperCase()&#125;</span> is very handy!'</span> ==</span><br><span class="line">       <span class="string">'That deserves all caps. '</span> +</span><br><span class="line">       <span class="string">'STRING INTERPOLATION is very handy!'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以使用 + 操作符来把多个字符串链接为一个，也可以把多个 字符串放到一起来实现同样的功能：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var s1 = &apos;String &apos; &apos;concatenation&apos;</span><br><span class="line">         &quot; works even over line breaks.&quot;;</span><br><span class="line">assert(s1 == &apos;String concatenation works even over &apos;</span><br><span class="line">             &apos;line breaks.&apos;);</span><br><span class="line">var s2 = &apos;The + operator &apos;</span><br><span class="line">         + &apos;works, as well.&apos;;</span><br><span class="line">assert(s2 == &apos;The + operator works, as well.&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用三个单引号或者双引号也可以 创建多行字符串对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var s1 = &apos;&apos;&apos;</span><br><span class="line">You can create</span><br><span class="line">multi-line strings like this one.</span><br><span class="line">&apos;&apos;&apos;;</span><br><span class="line">var s2 = &quot;&quot;&quot;This is also a</span><br><span class="line">multi-line string.&quot;&quot;&quot;;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="boolean"><a href="#boolean" class="headerlink" title="boolean"></a>boolean</h5><ol>
<li>当 Dart 需要一个布尔值的时候，只有 true 对象才被认为是 true。 所有其他的值都是 false。这点和 JavaScript 不一样， 像 1、 “aString”、 以及 someObject 等值都被认为是 false。</li>
</ol>
<h5 id="list-也被称之为-array"><a href="#list-也被称之为-array" class="headerlink" title="list (也被称之为 array)"></a>list (也被称之为 array)</h5><ol>
<li><p>也许 array （或者有序集合）是所有编程语言中最常见的集合类型。 在 Dart 中数组就是 List 对象。所以 通常我们都称之为 lists。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var list = [1, 2, 3];</span><br><span class="line">assert(list.length == 3);</span><br><span class="line">assert(list[1] == 2);</span><br><span class="line">list[1] = 1;</span><br><span class="line">assert(list[1] == 1);</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 list 字面量之前添加 const 关键字，可以 定义一个不变的 list 对象（编译时常量）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var constantList = const [1, 2, 3];</span><br><span class="line">// constantList[1] = 1; // Uncommenting this causes an error.</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="map"><a href="#map" class="headerlink" title="map"></a>map</h5><ol>
<li><p>通常来说，Map 是一个键值对相关的对象。 键和值可以是任何类型的对象。每个 键 只出现一次， 而一个值则可以出现多次。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gifts = &#123;</span><br><span class="line">  <span class="string">'first'</span> : <span class="string">'partridge'</span>,</span><br><span class="line">  <span class="string">'second'</span>: <span class="string">'turtledoves'</span>,</span><br><span class="line">  <span class="string">'fifth'</span> : <span class="string">'golden rings'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> gifts = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">gifts[<span class="string">'first'</span>] = <span class="string">'partridge'</span>;</span><br><span class="line">gifts[<span class="string">'second'</span>] = <span class="string">'turtledoves'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>同样使用 const 可以创建一个 编译时常量的 map：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">final constantMap = const &#123;</span><br><span class="line">  2: &apos;helium&apos;,</span><br><span class="line">  10: &apos;neon&apos;,</span><br><span class="line">  18: &apos;argon&apos;,</span><br><span class="line">&#125;;</span><br><span class="line">// constantMap[2] = &apos;Helium&apos;; // Uncommenting this causes an error.</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="rune-用于在字符串中表示-Unicode-字符"><a href="#rune-用于在字符串中表示-Unicode-字符" class="headerlink" title="rune (用于在字符串中表示 Unicode 字符)"></a>rune (用于在字符串中表示 Unicode 字符)</h5><h5 id="symbol"><a href="#symbol" class="headerlink" title="symbol"></a>symbol</h5><h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><ol>
<li>Dart 是一个真正的面向对象语言，方法也是对象并且具有一种 类型， Function。 这意味着，方法可以赋值给变量，也可以当做其他方法的参数。 也可以把 Dart 类的实例当做方法来调用。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bool isNoble(int atomicNumber) &#123;</span><br><span class="line">  return _nobleGases[atomicNumber] != null;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//可以选择忽略类型定义</span><br><span class="line">isNoble(atomicNumber) &#123;</span><br><span class="line">  return _nobleGases[atomicNumber] != null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="可选参数、默认参数、命名参数"><a href="#可选参数、默认参数、命名参数" class="headerlink" title="可选参数、默认参数、命名参数"></a>可选参数、默认参数、命名参数</h4><ol>
<li>使用<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 方法的可选参数 []</span></span><br><span class="line"><span class="comment">  * 方法的形参默认值 sex = '男'</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="built_in">String</span> say(<span class="built_in">String</span> from = <span class="string">'china'</span>, <span class="built_in">String</span> msg, [<span class="built_in">String</span> device]) &#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="string">'<span class="subst">$from</span> says <span class="subst">$msg</span>'</span>;</span><br><span class="line">  <span class="keyword">if</span> (device != <span class="keyword">null</span>) &#123;</span><br><span class="line">    result = <span class="string">'<span class="subst">$result</span> with a <span class="subst">$device</span>'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 定义一个命名参数的方法</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">String</span> printUserInfoByObject(<span class="built_in">String</span> username, &#123;<span class="built_in">int</span> age = <span class="number">10</span>, <span class="built_in">String</span> sex = <span class="string">'女'</span>&#125;)&#123;</span><br><span class="line">   <span class="keyword">if</span>(sex == <span class="string">'女'</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'我是非常可爱，姓名：<span class="subst">$username</span> --- 性别：<span class="subst">$sex</span> --- 年龄：<span class="subst">$age</span>'</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="string">'我是非常帅气，姓名：<span class="subst">$username</span> --- 性别：<span class="subst">$sex</span> --- 年龄：<span class="subst">$age</span>'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(printUserInfoByObject(<span class="string">'超超'</span>, age: <span class="number">10</span>, sex: <span class="string">'男'</span>));</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="main-入口函数"><a href="#main-入口函数" class="headerlink" title="main() 入口函数"></a>main() 入口函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">void main() &#123;</span><br><span class="line">  querySelector(&quot;#sample_text_id&quot;)</span><br><span class="line">    ..text = &quot;Click me!&quot;</span><br><span class="line">    ..onClick.listen(reverseText);</span><br><span class="line">&#125;</span><br><span class="line">//.. 语法为 级联调用（cascade）。 使用级联调用语法， 你可以在一个对象上执行多个操作。</span><br></pre></td></tr></table></figure>
<h4 id="静态作用域（scope）"><a href="#静态作用域（scope）" class="headerlink" title="静态作用域（scope）"></a>静态作用域（scope）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var topLevel = true;</span><br><span class="line">main() &#123;</span><br><span class="line">  var insideMain = true;</span><br><span class="line"></span><br><span class="line">  myFunction() &#123;</span><br><span class="line">    var insideFunction = true;</span><br><span class="line"></span><br><span class="line">    nestedFunction() &#123;</span><br><span class="line">      var insideNestedFunction = true;</span><br><span class="line">      assert(topLevel);</span><br><span class="line">      assert(insideMain);</span><br><span class="line">      assert(insideFunction);</span><br><span class="line">      assert(insideNestedFunction);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">//nestedFunction() 可以访问所有的变量， 包含顶级变量</span><br></pre></td></tr></table></figure>
<h4 id="自执行方法、箭头函数"><a href="#自执行方法、箭头函数" class="headerlink" title="自执行方法、箭头函数"></a>自执行方法、箭头函数</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  自执行方法</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">((<span class="built_in">int</span> <span class="built_in">num</span>)&#123;</span><br><span class="line">   <span class="built_in">print</span>(<span class="string">'我就是自执行方法: <span class="subst">$num</span>'</span>);</span><br><span class="line">&#125;)(<span class="number">29</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   箭头函数</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">    <span class="built_in">List</span> list=[<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">    <span class="comment">//匿名函数</span></span><br><span class="line">    <span class="keyword">var</span> newList=list.map((value)&#123;</span><br><span class="line">      <span class="keyword">if</span>(value&gt;<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> value*<span class="number">2</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">print</span>(newList.toList());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//箭头函数</span></span><br><span class="line">    <span class="keyword">var</span> newList=list.map((value)=&gt;value&gt;<span class="number">2</span>?value*<span class="number">2</span>:value);</span><br></pre></td></tr></table></figure>
<h4 id="闭包（closures）"><a href="#闭包（closures）" class="headerlink" title="闭包（closures）"></a>闭包（closures）</h4><p>一个 闭包 是一个方法对象，不管该对象在何处被调用， 该对象都可以访问其作用域内 的变量<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 闭包的特点：</span></span><br><span class="line"><span class="comment">  1. 常驻内存</span></span><br><span class="line"><span class="comment">  2. 内部变量，不污染全局</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">Function</span> makeAdder(<span class="built_in">num</span> addBy) &#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="built_in">num</span> i) =&gt; addBy + i;</span><br><span class="line">&#125;</span><br><span class="line">main() &#123;</span><br><span class="line">  <span class="keyword">var</span> add2 = makeAdder(<span class="number">2</span>);</span><br><span class="line">  add2(<span class="number">2</span>);  <span class="comment">// 4</span></span><br><span class="line">  add2(<span class="number">2</span>);  <span class="comment">// 6</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h4><p>所有的函数都返回一个值。如果没有指定返回值，则 默认把语句 return null; 作为函数的最后一个语句执行。</p>
<h3 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h3><h4 id="算术操作符"><a href="#算术操作符" class="headerlink" title="算术操作符"></a>算术操作符</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var a, b;</span><br><span class="line"></span><br><span class="line">a = 0;</span><br><span class="line">b = ++a;        // Increment a before b gets its value.</span><br><span class="line">assert(a == b); // 1 == 1</span><br><span class="line"></span><br><span class="line">a = 0;</span><br><span class="line">b = a++;        // Increment a AFTER b gets its value.</span><br><span class="line">assert(a != b); // 1 != 0</span><br><span class="line"></span><br><span class="line">a = 0;</span><br><span class="line">b = --a;        // Decrement a before b gets its value.</span><br><span class="line">assert(a == b); // -1 == -1</span><br><span class="line"></span><br><span class="line">a = 0;</span><br><span class="line">b = a--;        // Decrement a AFTER b gets its value.</span><br><span class="line">assert(a != b); // -1 != 0</span><br></pre></td></tr></table></figure>
<h4 id="级联操作符（-）"><a href="#级联操作符（-）" class="headerlink" title="级联操作符（..）"></a>级联操作符（..）</h4><p>级联操作符 (..) 可以在同一个对象上连续调用多个函数以及访问成员变量。 使用级联操作符可以避免创建 临时变量， 并且写出来的代码看起来 更加流畅：<br>正确使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">querySelector(&apos;#button&apos;) // Get an object.</span><br><span class="line">  ..text = &apos;Confirm&apos;   // Use its members.</span><br><span class="line">  ..classes.add(&apos;important&apos;)</span><br><span class="line">  ..onClick.listen((e) =&gt; window.alert(&apos;Confirmed!&apos;));</span><br><span class="line"></span><br><span class="line">//上面代码和下面一样效果</span><br><span class="line">var button = querySelector(&apos;#button&apos;);</span><br><span class="line">button.text = &apos;Confirm&apos;;</span><br><span class="line">button.classes.add(&apos;important&apos;);</span><br><span class="line">button.onClick.listen((e) =&gt; window.alert(&apos;Confirmed!&apos;));</span><br></pre></td></tr></table></figure></p>
<p>错误使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var sb = new StringBuffer();</span><br><span class="line">sb.write(&apos;foo&apos;)..write(&apos;bar&apos;);</span><br><span class="line">//sb.write() 函数返回一个 void， 无法在 void 上使用级联操作符。</span><br></pre></td></tr></table></figure></p>
<h3 id="异常（Exceptions）"><a href="#异常（Exceptions）" class="headerlink" title="异常（Exceptions）"></a>异常（Exceptions）</h3><h4 id="异常类型"><a href="#异常类型" class="headerlink" title="异常类型"></a>异常类型</h4><ol>
<li>Error</li>
<li>Exception</li>
</ol>
<h4 id="异常调用"><a href="#异常调用" class="headerlink" title="异常调用"></a>异常调用</h4><ol>
<li><p>Throw</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">throw new FormatException(&apos;Expected&apos;); </span><br><span class="line">throw &apos;Expected&apos;; //任意对象</span><br></pre></td></tr></table></figure>
</li>
<li><p>Catch<br>捕获异常可以避免异常继续传递（你重新抛出rethrow异常除外）</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">on</span> Exception <span class="keyword">catch</span> (e)&#123;  <span class="comment">//指定exception类型错误</span></span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;  <span class="comment">//如果捕获语句没有指定类型，则可以捕获任意类型</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>rethrow<br>把捕获的异常给重新抛出。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> foo = <span class="string">''</span>;</span><br><span class="line"><span class="keyword">void</span> misbehave() &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    foo = <span class="string">"You can't change a final variable's value."</span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'misbehave() partially handled <span class="subst">$&#123;e.runtimeType&#125;</span>.'</span>);</span><br><span class="line">    <span class="keyword">rethrow</span>; <span class="comment">// Allow callers to see the exception.</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    misbehave();</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'main() finished handling <span class="subst">$&#123;e.runtimeType&#125;</span>.'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Finally<br>要确保某些代码执行，不管有没有出现异常都需要执行，可以使用 一个 finally 语句来实现。如果没有 catch 语句来捕获异常， 则在执行完 finally 语句后， 异常被抛出了：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  breedMoreLlamas();</span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">'Error: <span class="subst">$e</span>'</span>);  <span class="comment">// Handle the exception first.</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  cleanLlamaStalls();  <span class="comment">// Then clean up.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h3><h4 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h4><p>Dart 是一个面向对象编程语言，同时支持基于 mixin 的继承机制。 每个对象都是一个类的实例，所有的类都继承于 Object.。 基于 Mixin 的继承 意味着每个类（Object 除外） 都只有一个超类，一个类的代码可以在其他 多个类继承中重复使用</p>
<h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><p>A: 含义： 定义一个和类名字一样的方法就定义了一个构造函数<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dart中类的基本使用</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="comment">//公共属性</span></span><br><span class="line">  <span class="built_in">String</span> name = <span class="string">'chao'</span>;</span><br><span class="line">  <span class="built_in">int</span> age = <span class="number">10</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//私有属性</span></span><br><span class="line">  <span class="built_in">String</span> _sex = <span class="string">'男'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//默认构造方法</span></span><br><span class="line">  <span class="comment">//初始化属性</span></span><br><span class="line">  Person(<span class="built_in">String</span> name, <span class="built_in">int</span> age):name=<span class="string">'超'</span>,age=<span class="number">10</span>&#123;</span><br><span class="line">     <span class="keyword">this</span>.name = name;</span><br><span class="line">     <span class="keyword">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//默认构造方法简写</span></span><br><span class="line">  <span class="comment">//Person(this.name, this.age);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//命名构造函数</span></span><br><span class="line">  Person.eat()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'我是命名构造函数'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//公共方法</span></span><br><span class="line">  <span class="built_in">String</span> say()&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="string">'我叫<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>, 我今年<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//私有方法</span></span><br><span class="line">  <span class="keyword">void</span> _cry()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'我是私有方法'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> myName&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> myAge(<span class="built_in">int</span> age)&#123;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//私有方法</span></span><br><span class="line">  <span class="keyword">void</span> _think()&#123;</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">'我是私有方法， <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>正在思考中....'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">Person a = <span class="keyword">new</span> Person(<span class="string">'chao'</span>, <span class="number">20</span>);</span><br><span class="line"><span class="built_in">print</span>(a.myName);</span><br><span class="line">a.myAge = <span class="number">300</span>;</span><br><span class="line"><span class="built_in">print</span>(a.say());</span><br><span class="line"><span class="built_in">print</span>(a.age);</span><br></pre></td></tr></table></figure></p>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> name;</span><br><span class="line">  <span class="built_in">int</span> age;</span><br><span class="line">  <span class="built_in">String</span> myWork;</span><br><span class="line">  Person(<span class="keyword">this</span>.name, <span class="keyword">this</span>.age, <span class="keyword">this</span>.myWork);</span><br><span class="line">  <span class="keyword">void</span> work()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'我来父类 ---- 我的工作是: <span class="subst">$&#123;<span class="keyword">this</span>.myWork&#125;</span>'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">void</span> say()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'我的名字是:<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>, 我今年:<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. extends 继承关键词</span></span><br><span class="line"><span class="comment"> * 2. 子类会继承父类里面可见的属性和方法 但是不会继承构造函数</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stundent</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> sex;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">      1. 构造方法无法继承</span></span><br><span class="line"><span class="comment">      2. 可以通过super调用父类构造方法</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  Stundent(<span class="built_in">String</span> name, <span class="built_in">int</span> age, <span class="built_in">String</span> myWork, <span class="built_in">String</span> sex) : <span class="keyword">super</span>(name, age, myWork)&#123;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> run()&#123;</span><br><span class="line">    <span class="comment">//调用父类的方法</span></span><br><span class="line">    <span class="keyword">super</span>.say();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   *  1. 静态方法和静态属性通过类名方法，不能实例化访问</span></span><br><span class="line"><span class="comment">   *  2. 静态方法不能访非静态属性和方法</span></span><br><span class="line"><span class="comment">   *  3. 非静态方法可以方法静态属性和方法</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">int</span> score = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> cry()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'我好伤心的哭了, 因为我的分数是：<span class="subst">$score</span>'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//重写父类的方法</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> work()&#123;</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">'我来子类 ---- 我的工作是: <span class="subst">$&#123;<span class="keyword">this</span>.myWork&#125;</span>'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Stundent s = <span class="keyword">new</span> Stundent(<span class="string">'chao'</span>, <span class="number">10</span>, <span class="string">'写代码'</span>, <span class="string">'男'</span>);</span><br><span class="line">s.run();</span><br><span class="line">Stundent.cry();</span><br></pre></td></tr></table></figure>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><h5 id="来替代"><a href="#来替代" class="headerlink" title="?. 来替代 ."></a>?. 来替代 .</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//?. 来替代 . 可以避免当左边对象为 null 时候 抛出异常</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">p?.y = <span class="number">4</span>;</span><br></pre></td></tr></table></figure>
<h5 id="级联操作"><a href="#级联操作" class="headerlink" title="级联操作.."></a>级联操作..</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">p.y = <span class="number">4</span></span><br><span class="line"> ..printInfo()</span><br><span class="line"> ..x = <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<h5 id="is-类型判断"><a href="#is-类型判断" class="headerlink" title="is 类型判断"></a>is 类型判断</h5><h5 id="as-类型转换"><a href="#as-类型转换" class="headerlink" title="as 类型转换"></a>as 类型转换</h5><h3 id="抽象类、接口"><a href="#抽象类、接口" class="headerlink" title="抽象类、接口"></a>抽象类、接口</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><ol>
<li>抽象类主要是定义标准，子类可以继承抽象类，也可以实现抽象类接口。</li>
<li>抽象类通过abstract关键字来定义，定义没有方法体的方法我们称为抽象方法</li>
<li>抽象类不能被实例化，只有继承它的子类可以</li>
<li>如果子类继承抽象类必须得实现里面的抽象方法</li>
<li>子类可以实现多个接口（class C implements A,B{}）</li>
</ol>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><h5 id="extends和implements区别"><a href="#extends和implements区别" class="headerlink" title="extends和implements区别"></a>extends和implements区别</h5><ol>
<li>如果要复用抽象类里面可见的方法和属性，并且要用抽象方法约束自类的话我们就用extends继承抽象类</li>
<li>如果只是把抽象类当做标准的话我们就用implements实现抽象类</li>
</ol>
<h5 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Db.dart</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Db</span></span>&#123;   <span class="comment">//当做接口   接口：就是约定 、规范</span></span><br><span class="line">    <span class="built_in">String</span> URL;      <span class="comment">//数据库的链接地址</span></span><br><span class="line">    add(<span class="built_in">String</span> data);</span><br><span class="line">    save();</span><br><span class="line">    delete();</span><br><span class="line">    printInfo()&#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">'我是Db类的打印方法'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//MySql.dart</span></span><br><span class="line"><span class="comment">//如果只是把抽象类当做标准的话我们就用implements实现抽象类， 无法继承父类printInfo方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mysql</span> <span class="keyword">implements</span> <span class="title">Db</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">String</span> URL;</span><br><span class="line"></span><br><span class="line">  Mysql(<span class="keyword">this</span>.URL);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  add(data) &#123;   </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'这是mysql的add方法'</span>+data);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  delete() &#123;   </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  save() &#123;   </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//NoSql.dart</span></span><br><span class="line"><span class="comment">//只有在extends才会继承父类的printInfo方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NoSql</span> <span class="keyword">extends</span> <span class="title">Db</span></span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">String</span> URL;</span><br><span class="line"></span><br><span class="line">  NoSql(<span class="keyword">this</span>.url);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  add(<span class="built_in">String</span> data) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'这是NoSql的add方法'</span>+data);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  delete() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement delete</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  save() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement save</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">NoSql nosql=<span class="keyword">new</span> NoSql(<span class="string">'xxxxxx'</span>);</span><br><span class="line">nosql.add(<span class="string">'1243214'</span>);</span><br><span class="line">nosql.printInfo();</span><br></pre></td></tr></table></figure>
<h3 id="mixins"><a href="#mixins" class="headerlink" title="mixins"></a>mixins</h3><h4 id="介绍-2"><a href="#介绍-2" class="headerlink" title="介绍"></a>介绍</h4><h5 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h5><ol>
<li>可以实现类似extends的功能，但是不是继承</li>
<li>可以mixins多个类</li>
</ol>
<h5 id="使用条件"><a href="#使用条件" class="headerlink" title="使用条件"></a>使用条件</h5><ol>
<li>作为mixins的类只能继承自Object，不能继承其他类</li>
<li>作为mixins的类不能有构造函数</li>
<li>mixins的实例类型就是超类的子类型</li>
<li>with为mixins的关键字</li>
</ol>
<h4 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="built_in">String</span> name;</span><br><span class="line">  <span class="built_in">num</span> age;</span><br><span class="line">  Person(<span class="keyword">this</span>.name,<span class="keyword">this</span>.age);</span><br><span class="line">  printInfo()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>----<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">void</span> run()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Person Run"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//B和A不能有构造函数， 也不能继承其他的类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> info=<span class="string">"this is A"</span>;</span><br><span class="line">  <span class="keyword">void</span> printA()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"A"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">void</span> run()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"A Run"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;  </span><br><span class="line">  <span class="keyword">void</span> printB()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"B"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">void</span> run()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"B Run"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// C继承Person(可有构造方法)，但是Mixins了B、A</span></span><br><span class="line"><span class="comment">// 每个类中有同样的方法和属性， 后面一个会覆盖前面， 也就是A会覆盖前面的B和Person</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">Person</span> <span class="title">with</span> <span class="title">B</span>,<span class="title">A</span></span>&#123;</span><br><span class="line">  C(<span class="built_in">String</span> name, <span class="built_in">num</span> age) : <span class="keyword">super</span>(name, age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><h4 id="泛型作用"><a href="#泛型作用" class="headerlink" title="泛型作用"></a>泛型作用</h4><p>在Dart中类型是可选的，你可以选择不用泛型，使用泛型有下面几个好处：</p>
<ol>
<li>有些情况下你可能想使用类型来表明你的意图，不管是使用泛型还是具体类型。</li>
<li>可以使用检查模式和静态分析工具提供的代码分析功能，提高代码健壮和安全性。</li>
<li>减少重复的代码。一个方法可以实现多种不同类型的作用。</li>
</ol>
<h4 id="泛型具体使用"><a href="#泛型具体使用" class="headerlink" title="泛型具体使用"></a>泛型具体使用</h4><h5 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">T getRawData&lt;T&gt;(T value)&#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line">getRawData&lt;<span class="built_in">num</span>&gt;(<span class="number">111</span>);</span><br></pre></td></tr></table></figure>
<h5 id="类"><a href="#类" class="headerlink" title="类"></a>类</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GetClass</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">List</span> list = <span class="keyword">new</span> <span class="built_in">List</span>&lt;T&gt;();</span><br><span class="line">  add(T value)&#123;</span><br><span class="line">    <span class="keyword">this</span>.list.add(value);</span><br><span class="line">  &#125;</span><br><span class="line">  printClass()&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="keyword">this</span>.list.length; i++)&#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="keyword">this</span>.list[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Cache</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">   <span class="keyword">void</span> getByKey(<span class="built_in">String</span> key);</span><br><span class="line">   T setByKey(<span class="built_in">String</span> key, T val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileCache</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Cache</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> getByKey(<span class="built_in">String</span> key) &#123;</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">'我是FileCache接口  key --- <span class="subst">$key</span>'</span>); </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  T setByKey(<span class="built_in">String</span> key, T val) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'我是FileCache接口  key --- <span class="subst">$key</span>; val --- <span class="subst">$val</span>'</span>); </span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MemoryCache</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Cache</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> getByKey(<span class="built_in">String</span> key) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'我是MemoryCache接口  key --- <span class="subst">$key</span>'</span>); </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  T setByKey(<span class="built_in">String</span> key, T val) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'我是MemoryCache接口  key --- <span class="subst">$key</span>; val --- <span class="subst">$val</span>'</span>); </span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="库"><a href="#库" class="headerlink" title="库"></a>库</h3><ol>
<li><p>内置库和包管理器提供的库pub</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'dart:io'</span>;  <span class="comment">//内置库</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:mylib/mylib.dart'</span>; <span class="comment">//包管理器库</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:utils/utils.dart'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>导入库的一部分</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Import only foo.</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:lib1/lib1.dart'</span> <span class="keyword">show</span> foo;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Import all names EXCEPT foo.</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:lib2/lib2.dart'</span> <span class="keyword">hide</span> foo;</span><br></pre></td></tr></table></figure>
</li>
<li><p>延迟载入库</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//deferred as</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:deferred/hello.dart'</span> <span class="keyword">deferred</span> <span class="keyword">as</span> hello;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用库标识符调用 loadLibrary() 函数来加载库</span></span><br><span class="line"><span class="comment">//await 关键字暂停代码执行一直到库加载完成</span></span><br><span class="line">greet() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> hello.loadLibrary();</span><br><span class="line">  hello.printGreeting();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="异步流程"><a href="#异步流程" class="headerlink" title="异步流程"></a>异步流程</h3><h4 id="介绍-3"><a href="#介绍-3" class="headerlink" title="介绍"></a>介绍</h4><p>有两种方式可以使用 Future 对象中的 数据：</p>
<ol>
<li>使用 async 和 await</li>
<li>使用 Future API</li>
</ol>
<p>同样，从 Stream 中获取数据也有两种 方式：</p>
<ol>
<li>使用 async 和一个 异步 for 循环 (await for)</li>
<li>使用 Stream API </li>
</ol>
<h5 id="使用-2"><a href="#使用-2" class="headerlink" title="使用"></a>使用</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">checkVersion() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> version = <span class="keyword">await</span> lookUpVersion();</span><br><span class="line">  <span class="keyword">if</span> (version == expectedVersion) &#123;</span><br><span class="line">    <span class="comment">// Do something.</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// Do something else.</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以使用 try, catch, 和 finally 来处理使用 await 的异常</p>
<p><a href="http://dart.goodev.org/guides/language/language-tour" target="_blank" rel="noopener">文字来源于</a></p>

        
        <div id="comment-container">
        </div>
    </div>

    <div style="position:fixed;right:10px;bottom:15px;color: #999;cursor: pointer;" onclick="window.scrollTo(0,0)">回到顶部</div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/fanky-c">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p style="padding-top:10px;">
        <span>/</span>
        
            
               <span><a href="http://www.fankyc.cn">fanky_c</a></span>
            
        <span>/</span>
        
            
               <span><a href="https://beian.miit.gov.cn" target="_blank">粤ICP备19149804号</a></span>
            
        <span>/</span>
        
            
               <span><a href="#">It helps SEO</a></span>
            
        <span>/</span>
        
    </p>
    
    <p style="padding-top:5px;">
        <!--<span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>-->
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a>
    </p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<!-- <script async src="//cdn.jsdelivr.net/gh/sukkaw/busuanzi@2.3/bsz.pure.mini.js"></script> -->

</html>
