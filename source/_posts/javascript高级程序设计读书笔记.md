---
title: javascript高级程序设计读书笔记
date: 2022-06-21 21:34:31
tags:
 - javascript高级程序设计
 - 读书笔记
---

## 基本概念
任何语言的核心都必然会描述这门语言最基本的工作原理。而描述的内容通常都要涉及这门语言的**语法、操作符、数据类型、内置功能等用于构建复杂解决方案的基本概念**。

### 1、语法
####  1.1 区分大小写
ECMAScript中的一切（变量、函数名和操作符）都区分大小写。这也就意味着，变量名test和变量名Test分别表示两个不同的变量。

####  1.2  标识符
第一个字符必须是一个字母、下划线（_）或一个美元符号（$）；

#### 1.3 语句
ECMAScript中的语句以一个分号结尾；如果省略分号，则由解析器确定语句的结尾。**加上分号也会在某些情况下增进代码的性能，因为这样解析器就不必再花时间推测应该在哪里插入分号了。**


### 2、数据类型
**JS基本数据类型：String、Number、Boolean、Undefined、Null、Symbol、BigInt；Object本质上是由一组无序的名值对组成的**

#### 2.1 typeof操作符
对一个值使用typeof操作符可能返回下列某个字符串：

1. "undefined"——如果这个值未定义；
2. "boolean"——如果这个值是布尔值；
3. "string"——如果这个值是字符串；
4. "symbol"——如果这个值是symbol；
5. "number"——如果这个值是数值；
6. "object"——如果这个值是对象或null；
7. "function"——如果这个值是函数。

#### 2.2  Undefined类型
Undefined类型只有一个值，即特殊的undefined。在使用var声明变量但未对其加以初始化时，这个变量的值就是undefined。 

对于尚未声明过的变量，只能执行一项操作，即使用typeof操作符检测其数据类型。 


#### 2.3  Null类型
从逻辑角度来看，null值表示一个空对象指针，而这也正是使用typeof操作符检测null值时会返回"object"的原因。

```js
typeof null // 'object'
```

尽管null和undefined有这样的关系，但它们的用途完全不同。如前所述，无论在什么情况下都没有必要把一个变量的值显式地设置为undefined，可是同样的规则对null却不适用。**换句话说，只要意在保存对象的变量还没有真正保存对象，就应该明确地让该变量保存null值。这样做不仅可以体现null作为空对象指针的惯例，而且也有助于进一步区分null和undefined。**


#### 2.4 Number类型

##### 2.4.1 NaN
NaN，即非数值（Not a Number）是一个特殊的数值，这个数值用于表示一个本来要返回数值的操作数未返回数值的情况（这样就不会抛出错误了）。例如，在其他编程语言中，任何数值除以非数值都会导致错误，从而停止代码执行。但在ECMAScript中，任何数值除以非数值会返回NaN，因此不会影响其他代码的执行。

NaN与任何值都不相等，包括NaN本身


##### 2.4.2 数值转换
Number()、parseInt()和parseFloat()

**Number()函数的转换规则如下:**
1. 如果是Boolean值，true和false将分别被转换为1和0。
2. 如果是数字值，只是简单的传入和返回
3. 如果是null值，返回0
4. 如果是undefined，返回NaN。
5. 如果是对象，则调用对象的valueOf()方法，然后依照前面的规则转换返回的值。如果转换的结果是NaN，则调用对象的toString()方法，然后再次依照前面的规则转换返回的字符串值
6. 如果是字符串，遵循下列规则：
   1. 如果字符串中只包含数字（包括前面带正号或负号的情况），则将其转换为十进制数值，即"1"会变成1, "123"会变成123，而"011"会变成11（注意：前导的零被忽略了）；
   2.  如果字符串中包含有效的浮点格式，如"1.1"，则将其转换为对应的浮点数值（同样，也会忽略前导零)
   3.  如果字符串中包含有效的十六进制格式，例如"0xf"，则将其转换为相同大小的十进制整数值。


**parseInt()函数**
parseInt()函数在转换字符串时，更多的是看其是否符合数值模式。它会忽略字符串前面的空格，直至找到第一个非空格字符。

1. 如果第一个字符不是数字字符或者负号，parseInt()就会返回NaN；也就是说，用parseInt()转换空字符串会返回NaN（Number()对空字符返回0）
2. 如果第一个字符是数字字符，parseInt()会继续解析第二个字符，直到解析完所有后续字符或者遇到了一个非数字字符


**不指定基数意味着让parseInt()决定如何解析输入的字符串，因此为了避免错误的解析，我们建议无论在什么情况下都明确指定基数。**
```js
let num1 = parseInt("10", 2) // 2 按二进制解析
let num1 = parseInt("10", 8) // 8 按八进制解析
let num1 = parseInt("10", 10) // 10 按十进制解析
let num1 = parseInt("10", 16) // 16 按十六进制解析
```


#### 2.5 String类型

##### 2.5.1 转换为字符串

要把一个值转换为一个字符串有三种方式：
 1. 第一种是使用几乎每个值都有的toString()方法；
 2. 在不知道要转换的值是不是null或undefined的情况下，还可以使用转型函数String()，这个函数能够将任何类型的值转换为字符串。String()函数遵循下列转换规则
    1. 如果值有toString()方法，则调用该方法（没有参数）并返回相应的结果；
    2. 如果值是null，则返回"null"；
    3. 如果值是undefined，则返回"undefined"。
 3. 可以使用加号操作符把它与一个字符串（""）加在一起


#### 2.6 Object类型
对象其实就是一组数据和功能的集合。

**Object类型是所有它的实例的基础。换句话说，Object类型所具有的任何属性和方法也同样存在于更具体的对象中。**

##### 2.6.1 创建
```js
let o = new Object();

let o = new Object; // 有效，但是不推荐
```

##### 2.6.2 Object每个实例具有以下属性和方法
1. constructor: 保存着用于创建当前对象函数， 对应当前的例子，构造函数（constructor）就是Object();
2. hasOwnProperty(propertyName)： 用于检查给定的属性在当前对象实例中（而不是在实例原型中）是否存在；
3. isPrototypeOf(object): 用于检查传入的对象是否是当前对象的原型；
4. propertyIsEnumerable(propertyName): 用于检查给定的属性是否能够使用for-in语句来枚举;
5. toString()：返回对象的字符串表示;
6. valueOf()：返回对象的字符串、数值或布尔值表示。通常与toString()方法的返回值相同。


### 3、操作符
#### 3.1 一元操作符
##### 3.1.1 递增和递减操作符
**前置递增和递减操作时，变量的值都是在语句被求值以前改变的；后置递增和递减与前置递增和递减有一个非常重要的区别，即递增和递减操作是在包含它们的语句被求值之后才执行的**

```js
// 前置
let num1 = 2;
let num2 = 20;
let num3 = --num1 + num2; // 21
let num4 = num1 + num2; // 21

// 后置
let num1 = 2;
let num2 = 20;
let num3 = num1-- + num2; // 22
let num4 = num1 + num2; // 21
```

它们不仅适用于整数，还可以用于字符串、布尔值、浮点数值和对象
1. 在应用于一个包含有效数字字符的字符串时，先将其转换为数字值，再执行加减1的操作。字符串变量变成数值变量。
2.  在应用于对象时，先调用对象的valueOf()方法以取得一个可供操作的值。然后对该值应用前述规则。如果结果是NaN，则在调用toString()方法后再应用前述规则。对象变量变成数值变量

#### 3.2 位操作符

#### 3.3 乘性操作符
##### 3.3.1  乘法
1. 如果有一个操作数是NaN，则结果是NaN；
2. 如果是Infinity与0相乘，则结果是NaN； 
3. 如果是Infinity与非0数值相乘，则结果是Infinity或-Infinity，取决于有符号操作数的符号；
4. 如果是Infinity与Infinity相乘，则结果是Infinity；
5. 如果有一个操作数不是数值，则在后台调用Number()将其转换为数值，然后再应用上面的规则。


##### 3.3.2 求模

```js
let result = 26 % 5; // 1
```

求模相关规则：
1.  如果被除数是零，则结果是零
2.  如果有一个操作数不是数值，则在后台调用Number()将其转换为数值，然后再应用上面的规则


#### 3.4 加性操作符
##### 3.4.1 加法

相关规则：
1. 如果有一个操作数是对象、数值或布尔值，则调用它们的toString()方法取得相应的字符串值，然后再应用前面关于字符串的规则。对于undefined和null，则分别调用String()函数并取得字符串"undefined"和"null"。


##### 3.4.2 减法

相关规则：
1. 如果有一个操作数是字符串、布尔值、null或undefined，则先在后台调用Number()函数将其转换为数值，然后再根据前面的规则执行减法计算。如果转换的结果是NaN，则减法的结果就是NaN；
2. 如果有一个操作数是对象，则调用对象的valueOf()方法以取得表示该对象的数值。如果得到的值是NaN，则减法的结果就是NaN。如果对象没有valueOf()方法，则调用其toString()方法并将得到的字符串转换为数值


### 4、流程控制语句

### 5、函数


## 变量、作用域和内存问题

## 引用类型

## 面向对象程序设计

## 函数表达式

## DOM

## 事件