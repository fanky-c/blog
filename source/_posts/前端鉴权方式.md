---
title: 前端鉴权方式
date: 2021-08-22 17:39:32
tags:
 - 前端鉴权
 - token
 - cookie
 - session
 - jwt
 - 单点登录
---

## 前端鉴权背景
原因：**http请求无状态**


## 鉴权方式

### 1. 初窥：前端全局变量、sessionStorage、localStorage
#### a. 利弊
1. 全局变量不利于持久化， 一刷新页面就没有
2. sessionStorage、localStorage虽可以持久化，但操作麻烦，要前端存、前端手动带上给服务端 
### 2. 基础：前端存储cookie
#### a. 介绍
相比sessionStorage、localStorage等本方式，借助 HTTP 头、浏览器能力，**cookie 可以做到前端无感知**。

#### b. 原理
1. 在提供标记的接口，通过 HTTP 返回头的 Set-Cookie 字段，直接「种」到浏览器上
2. 浏览器发起请求时，会自动把 cookie 通过 HTTP 请求头的 Cookie 字段，带给接口
   
#### c. 步骤

### 2. 方案一：服务端session
#### a. 介绍


### 3. 方案二：token


### 4. jwt


### 5. sso (单点登录)


## 鉴权总结
##### 1. HTTP 是无状态的，为了维持前后请求，需要前端存储标记
##### 2. cookie 是一种完善的标记方式，通过 HTTP 头或 js 操作，有对应的安全策略，是大多数状态管理方案的基石
##### 3. session 是一种状态管理方案，前端通过 cookie 存储 id，后端存储数据，但后端要处理分布式问题
##### 4. token 是另一种状态管理方案，相比于 session 不需要后端存储，数据全部存在前端，解放后端，释放灵活性
##### 5. token 的编码技术，通常基于 base64，或增加加密算法防篡改，jwt 是一种成熟的编码方案
##### 6. 在复杂系统中，token 可通过 service token、refresh token 的分权，同时满足安全性和用户体验
##### 7. session 和 token 的对比就是「用不用cookie」和「后端存不存」的对
##### 8. 单点登录要求不同域下的系统「一次登录，全线通用」，通常由独立的 SSO 系统记录登录状态、下发 ticket，各业务系统配合存储和认证 ticket


[文章来源于](https://mp.weixin.qq.com/s/GlSpsx3KY6oPLzS3HzGXPw)




